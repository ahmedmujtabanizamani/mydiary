<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NightShift Employee worked Dayshift | My Diary</title>

      <link rel="stylesheet" href="192.168.0.156/css/main.min.f00cb80f15479b09de6a53676fee7be93814c3ff242ba3e211b209ab79a353c3.css" integrity="sha256-8Ay4DxVHmwnealNnb&#43;576TgUw/8kK6PiEbIJq3mjU8M=" crossorigin="anonymous">


</head>
<body>
  <header>
    <h1>My Diary</h1>

  <nav>
    <ul>
    <li class="menu-item">
      <a href="192.168.0.156/">Home</a>
    </li>
    <li class="menu-item">
      <a href="192.168.0.156/posts/">Posts</a>
    </li>
    <li class="menu-item">
      <a aria-current="true" class="ancestor" href="192.168.0.156/technical/">Tech</a>
    </li>
    <li class="menu-item">
      <a href="192.168.0.156/tags/">Tags</a>
    </li>
    </ul>
  </nav>

  </header>
  <main>
    
  <h1 class="main-heading">NightShift Employee worked Dayshift</h1>
  
  <p class="table-of-content-heading">Table of Contents</p>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#intro">Intro</a></li>
    <li><a href="#formula-used">Formula Used</a>
      <ul>
        <li><a href="#formula-language-code">Formula Language Code</a></li>
      </ul>
    </li>
  </ul>
</nav>
  
  
  
  <time datetime="2024-08-19T01:16:49&#43;05:00">August 19, 2024</time>
  <h2 id="intro">Intro</h2>
<p>When Night Shift Employee Try to work in Dayshift Hours this exception will trigger and alert manager about the extra Hours workings.</p>
<h2 id="formula-used">Formula Used</h2>
<ul>
<li>sumTime</li>
<li>Crossing Midnight</li>
</ul>
<h3 id="formula-language-code">Formula Language Code</h3>

<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>$ESP_JI_VARIABLES(day)$
</span></span><span style="display:flex;"><span>$ESP_JI_SCHEDULES(day)$
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000">//Overlapping hours
</span></span></span><span style="display:flex;"><span><span style="color:#008000">//2024-05-20 - bbumanglag - PG-ISSUE-7012 - updated holiday
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">var</span> holidaySetUsedDayx = <span style="color:#00f">if</span>(isSDFPrev, holidaySetUsedSDF, holidaySetUsed);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000">// Daily Hours Range
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">var</span> validDays = !(day.dayOfWeek = FRIDAY OR day.dayOfWeek = SATURDAY);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000">// After Night Shift Daily Hours Range
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">var</span> diffStartTime =  {06:00};
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> diffEndTime =  {22:00};
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> shiftWindowStart = makeDateTime(day + 1, diffStartTime);
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> shiftWindowEnd = makeDateTime(day + 1, diffEndTime);
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> windowTimeRange = makeDateTimeRange(shiftWindowStart, shiftWindowEnd);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> morningOverlappingHours = sumTime( over day alias x
</span></span><span style="display:flex;"><span>                                     , <span style="color:#00f">var</span> overlapRange = windowTimeRange.overlap(makeDateTimeRange(x.START_DTTM, x.END_DTTM));
</span></span><span style="display:flex;"><span>                                       <span style="color:#00f">var</span> overlapAmount = overlapRange.elapsedHours;
</span></span><span style="display:flex;"><span>                                       <span style="color:#00f">var</span> overlapAmountRounded = round(overlapAmount, 2);
</span></span><span style="display:flex;"><span>                                       
</span></span><span style="display:flex;"><span>                                       overlapAmountRounded
</span></span><span style="display:flex;"><span>                                     , where x.pay_code = <span style="color:#a31515">&#34;CLOCK&#34;</span> AND
</span></span><span style="display:flex;"><span>                                             x.START_DTTM &lt;&gt; <span style="color:#00f">null</span> AND
</span></span><span style="display:flex;"><span>                                             x.END_DTTM &lt;&gt; <span style="color:#00f">null</span>
</span></span><span style="display:flex;"><span>                                     );
</span></span><span style="display:flex;"><span><span style="color:#008000">// PG-ISSUE-7383 - only consider after schedule Hours if &gt;= 25 minutes
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">var</span> minutesThreshold = 25;
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> minutesInDecimal = minutesThreshold / 60;
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> minutesInDecimalRounded = round(minutesInDecimal, 2);
</span></span><span style="display:flex;"><span><span style="color:#00f">var</span> overlapQualification = morningOverlappingHours &gt;= minutesInDecimalRounded;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>isJijona
</span></span><span style="display:flex;"><span>and
</span></span><span style="display:flex;"><span>isNightShiftEmployees
</span></span><span style="display:flex;"><span>and
</span></span><span style="display:flex;"><span>overlapQualification</span></span></code></pre></td></tr></table>
</div>
</div><p>I hope this will help,</p>
<p>Thanks,</p>
  <div class="tags">
    
  <div>
    <div>Tags:</div>
    <ul>
        <li><a href="192.168.0.156/tags/nightshift/">Nightshift</a></li>
        <li><a href="192.168.0.156/tags/crossing-midnight/">Crossing-Midnight</a></li>
    </ul>
  </div>

  </div>

<div class="paginateSec">
  


</div>


  

  </main>
  <footer>
    <p>Copyright 2024. All rights reserved.</p>
  </footer>
  
      <script src="192.168.0.156/js/main.0039bcf4dcbf2a0655cb93bf0da10db8b094724052875a255fd5915e646a5751.js" integrity="sha256-ADm89Ny/KgZVy5O/DaENuLCUckBSh1olX9WRXmRqV1E=" crossorigin="anonymous"></script>

</body>
</html>
